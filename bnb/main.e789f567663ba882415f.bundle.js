webpackJsonp([1],{0:function(t,n,l){t.exports=l("cDNt")},cDNt:function(t,n,l){"use strict";function e(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","REMOVE SELECTED LINES"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.removeSelected()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("delete.svg"),""))})}function i(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","Nothing to remove..."]],[[8,"src",4]],null,null,null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("delete_disabled.svg"),""))})}function s(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","AUTO-BREAK SELECTED"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.autoBreak()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("code.svg"),""))})}function o(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","Select lines to enable Auto-Breaking..."]],[[8,"src",4]],null,null,null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("code_disabled.svg"),""))})}function c(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","BREAK! (Ctrl + Enter)"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.breakLine()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("heart.svg"),""))})}function u(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","There is nothing to break, to focus target language press Ctrl + Enter"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.focusTarget()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("heart_disabled.svg"),""))})}function r(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[],[[8,"title",0],[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.translateSelected()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.targetIsEmpty()?"TRANSLATE":"UPDATE","  (Ctrl + Enter)"),O._10(1,"",l.targetIsEmpty()?l.imgSrc("translate.svg"):l.imgSrc("translate_red.svg"),""))})}function a(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","There is nothing to translate, to focus source language press Ctrl + Enter"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.focusSource()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("translate_disabled.svg"),""))})}function d(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","Hide Sidebar..."]],[[8,"src",4]],null,null,null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("left.svg"),""))})}function g(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","Show Sidebar..."]],[[8,"src",4]],null,null,null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("right.svg"),""))})}function _(t){return O._24(0,[(t()(),O._8(0,0,null,null,77,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t"])),(t()(),O._8(2,0,null,null,65,"div",[["class","config"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(5,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._8(7,0,null,null,0,"img",[["title","ADVANCED MODE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.toggleAdvancedMode()&&e}return e},null,null)),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(11,0,null,null,7,"div",[["class","icon sm"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,e)),O._6(14,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,i)),O._6(17,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(21,0,null,null,3,"div",[["class","icon sm"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._8(23,0,null,null,0,"img",[["title","SAVE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.saveData()&&e}return e},null,null)),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(27,0,null,null,7,"div",[["class","icon sm"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,s)),O._6(30,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,o)),O._6(33,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._8(36,0,null,null,0,"div",[["class","flex"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(39,0,null,null,13,"div",[["class","icon"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,c)),O._6(42,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,u)),O._6(45,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,r)),O._6(48,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,a)),O._6(51,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._8(54,0,null,null,0,"div",[["class","flex"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._8(56,0,null,null,0,"div",[["class","icon sm hidden"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(58,0,null,null,0,"div",[["class","icon sm hidden"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(60,0,null,null,0,"div",[["class","icon sm hidden"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(63,0,null,null,3,"div",[["class","icon"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._8(65,0,null,null,0,"img",[["title","EXIT"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.exitTranslating()&&e}return e},null,null)),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t"])),(t()(),O._8(69,0,null,null,7,"div",[["class","toggle"]],null,[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.toggleSidebar()&&e}return e},null,null)),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,d)),O._6(72,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,g)),O._6(75,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t"])),(t()(),O._23(-1,null,["\n\n\t"]))],function(t,n){var l=n.component;t(n,14,0,l.canDelete()),t(n,17,0,!l.canDelete()),t(n,30,0,l.canAutoBreak()),t(n,33,0,!l.canAutoBreak()),t(n,42,0,l.canBreak()&&!l.selectionIsInvalid()),t(n,45,0,l.canBreak()&&l.selectionIsInvalid()),t(n,48,0,l.canTranslate()&&!l.sourceIsEmpty()),t(n,51,0,l.canTranslate()&&l.sourceIsEmpty()),t(n,72,0,l.app.config.sidebar),t(n,75,0,!l.app.config.sidebar)},function(t,n){var l=n.component;t(n,0,0,O._10(1,"config-fixed ",l.app.config.advanced?"advanced":"","")),t(n,5,0,O._10(1,"icon ",l.app.config.advanced?"active":"","")),t(n,7,0,O._10(1,"",l.imgSrc("settings.svg"),"")),t(n,23,0,O._10(1,"",l.imgSrc("save.svg"),"")),t(n,65,0,O._10(1,"",l.imgSrc("exit.svg"),""))})}function p(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","SELECT ALL"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.selectAllLines()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("select.svg"),""))})}function h(t){return O._24(0,[(t()(),O._8(0,0,null,null,0,"img",[["title","DESELECT ALL"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.deselectAllLines()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,O._10(1,"",l.imgSrc("deselect.svg"),""))})}function f(t){return O._24(0,[(t()(),O._8(0,0,null,null,4,"div",[["class","loading"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t\t"])),(t()(),O._8(2,0,null,null,1,"div",[["class","loader"]],null,null,null,null,null)),(t()(),O._8(3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"]))],null,null)}function x(t){return O._24(0,[(t()(),O._8(0,0,[[1,0],["item",1]],null,38,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._8(2,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._8(5,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t\t"])),(t()(),O._8(7,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t\t\t"])),(t()(),O._8(9,0,null,null,0,"img",[["class","box_deselected"],["title","SELECT LINE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.selectMultipleLines(t.context.index)&&e}return e},null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t\t\t"])),(t()(),O._8(11,0,null,null,0,"img",[["class","box_selected"],["title","DESELECT LINE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.deselectMultipleLines(t.context.index)&&e}return e},null,null)),(t()(),O._23(-1,null,["\n\t\t\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(17,0,null,null,7,"div",[["class","lang-from"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t\t\t"])),(t()(),O._8(19,0,null,null,1,"label",[["class","placeholder"]],[[8,"htmlFor",0]],null,null,null,null)),(t()(),O._23(20,null,["",""])),(t()(),O._23(-1,null,["\n\n\t\t\t\t"])),(t()(),O._8(22,0,null,null,1,"textarea",[],[[8,"id",0]],[[null,"click"],[null,"keydown"],[null,"keyup"],[null,"keypress"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.select(l,t.context.index,"source")&&e}if("keydown"===n){e=!1!==i.focus(t.context.index,"source")&&e}if("keyup"===n){e=!1!==i.updateContent(l)&&e}if("keypress"===n){e=!1!==i.onKeyPress(l)&&e}return e},null,null)),(t()(),O._23(23,null,["",""])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._8(27,0,null,null,10,"div",[["class","lang-to"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t\t\t"])),(t()(),O._8(29,0,null,null,1,"label",[["class","placeholder"]],[[8,"htmlFor",0]],null,null,null,null)),(t()(),O._23(30,null,["",""])),(t()(),O._23(-1,null,["\n\n\t\t\t\t"])),(t()(),O._8(32,0,null,null,1,"textarea",[],[[8,"id",0]],[[null,"click"],[null,"keydown"],[null,"keyup"],[null,"keypress"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.select(l,t.context.index,"target")&&e}if("keydown"===n){e=!1!==i.focus(t.context.index,"target")&&e}if("keyup"===n){e=!1!==i.updateContent(l)&&e}if("keypress"===n){e=!1!==i.onKeyPress(l)&&e}return e},null,null)),(t()(),O._23(33,null,["",""])),(t()(),O._23(-1,null,["\n\n\t\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,f)),O._6(36,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\n\t\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t"]))],function(t,n){t(n,36,0,n.component.list.extra[n.context.index].loading)},function(t,n){var l=n.component;t(n,0,0,O._10(1,"lines ",l.isSelectedLine(n.context.index)?"selected":"","")),t(n,9,0,O._10(1,"",l.imgSrc("check.svg"),"")),t(n,11,0,O._10(1,"",l.imgSrc("close.svg"),"")),t(n,19,0,O._10(1,"source-line-",n.context.index,"")),t(n,20,0,n.context.$implicit.source),t(n,22,0,O._10(1,"source-line-",n.context.index,"")),t(n,23,0,n.context.$implicit.source),t(n,29,0,O._10(1,"target-line-",n.context.index,"")),t(n,30,0,n.context.$implicit.target),t(n,32,0,O._10(1,"target-line-",n.context.index,"")),t(n,33,0,n.context.$implicit.target)})}function b(t){return O._24(0,[(t()(),O._8(0,0,null,null,17,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t\t"])),(t()(),O._23(-1,null,["\n\t\t"])),(t()(),O._8(3,0,null,null,7,"div",[["class","icon sm"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,p)),O._6(6,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t\t"])),(t()(),O._2(16777216,null,null,1,null,h)),O._6(9,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\t\t"])),(t()(),O._23(-1,null,["\n\n\t\t"])),(t()(),O._23(-1,null,["\n\t\t"])),(t()(),O._2(16777216,null,null,1,null,x)),O._6(14,802816,null,0,S.c,[O.Q,O.N,O.t],{ngForOf:[0,"ngForOf"]},null),(t()(),O._23(-1,null,["\n\n\t\t"])),(t()(),O._8(16,0,null,null,0,"div",[["style","height: 50px; width: 100%;"]],null,null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t"]))],function(t,n){var l=n.component;t(n,6,0,!l.isSelected()),t(n,9,0,l.isSelected()),t(n,14,0,l.list.lines)},function(t,n){var l=n.component;t(n,0,0,O._10(1,"content ",l.app.config.advanced?"advanced":"",""))})}function m(t){return O._24(0,[O._21(671088640,1,{items:1}),O._21(402653184,2,{bnb:0}),(t()(),O._8(2,0,[[2,0],["bnb",1]],null,7,"div",[],[[8,"className",0],[4,"width","px"],[4,"height","px"]],null,null,null,null)),(t()(),O._23(-1,null,["\n\n\t"])),(t()(),O._2(16777216,null,null,1,null,_)),O._6(5,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\n\t"])),(t()(),O._2(16777216,null,null,1,null,b)),O._6(8,16384,null,0,S.d,[O.Q,O.N],{ngIf:[0,"ngIf"]},null),(t()(),O._23(-1,null,["\n\n"])),(t()(),O._23(-1,null,["\n"]))],function(t,n){var l=n.component;t(n,5,0,!l.app.loading),t(n,8,0,!l.app.loading&&!l.list.autobreaking)},function(t,n){var l=n.component;t(n,2,0,O._10(1,"bnb ",l.app.config.sidebar?"":"full_mode",""),l.app.browser.w,l.app.browser.h)})}function v(t){return O._24(0,[(t()(),O._8(0,0,null,null,1,"bnb-app",[],null,[["window","resize"]],function(t,n,l){var e=!0;if("window:resize"===n){e=!1!==O._20(t,1).handleResize()&&e}return e},m,L)),O._6(1,114688,null,0,E,[k],null,null)],function(t,n){t(n,1,0)},null)}Object.defineProperty(n,"__esModule",{value:!0});var O=l("/oeL"),C={production:!0},P=function(){function t(){}return t}(),M=(l("GQSG"),l("U6yM")),y=l("XKz0"),k=function(){function t(t){this.http=t}return t.prototype.get=function(t){return this.http.get(t).map(function(t){return t||{}})},t.prototype.post=function(t,n){var l=this;return new Promise(function(e,i){l.http.post(t,n,{headers:(new y.g).set("Authorization","XSRF-TOKEN")}).map(function(t){return t||{}}).catch(function(t){return i(t.statusText||"Can't join the server."),M.a.throw(t)}).subscribe(function(t){e(t)})})},t.ctorParameters=function(){return[{type:y.c}]},t}(),E=function(){function t(t){this.http=t,this.app={browser:{w:0,h:0},config:{sidebar:!0,advanced:!1},loading:!0},this.list={autobreaking:!1,selected:-1,lines:[],extra:[],type:"target",selection:{start:0,end:0,len:0}}}return t.prototype.handleResize=function(){this.app.browser.w=this.bnb.nativeElement.offsetParent.clientWidth,this.app.browser.h=this.bnb.nativeElement.offsetParent.clientHeight},t.prototype.ngOnInit=function(){var t=this;console.log("init..."),this.http.get("/load").subscribe(function(n){""===n.data?t.list.lines.push({extraBefore:"",extraAfter:"",source:"",target:""}):t.list.lines=n.data,t.list.lines.forEach(function(){t.list.extra.push({selected:!1,updated:!1,loading:!1})}),t.app.loading=!1,setTimeout(function(){t.list.lines.length>0?(t.selectLine(0,"source"),t.items._results[t.list.selected].nativeElement.children[1].children[1].focus()):(t.addEmptyLine(),t.selectLine(0,"source"),t.items._results[t.list.selected].nativeElement.children[1].children[1].focus())},500)}),this.app.browser.w=this.bnb.nativeElement.offsetParent.clientWidth,this.app.browser.h=this.bnb.nativeElement.offsetParent.clientHeight},t.prototype.imgSrc=function(t){return"assets/img/"+t},t.prototype.select=function(t,n,l){this.selectLine(n,l),this.updateSelection(t),this.list.selected===this.list.lines.length-1&&this.addEmptyLine()},t.prototype.isSelectedLine=function(t){return this.list.extra[t].selected},t.prototype.selectLine=function(t,n){void 0===n&&(n=""),this.deselectAll(),this.list.selected!==t&&this.scrollTo(this.items._results[t].nativeElement.offsetTop),this.list.selected=t,this.list.extra[this.list.selected].selected=!0,this.list.type=""!==n?n:this.list.type},t.prototype.breakLine=function(){if("source"===this.list.type&&0!==this.list.selection.end&&this.list.selection.start!==this.list.selection.len){console.log("breaking-line...");var t=this.list.lines[this.list.selected].source,n=this.list.lines[this.list.selected].extraBefore,l=t.slice(0,this.list.selection.start),e=t.slice(this.list.selection.start,this.list.selection.end),i=t.slice(this.list.selection.end,this.list.selection.len),s=this.list.lines[this.list.selected].extraAfter;console.log("data:",t),console.log("extraBefore:",n),console.log("data-before:",l),console.log("selection:",e),console.log("data-after:",i),console.log("extraAfter:",s),this.breakHeart(n,l,e,i,s),this.focusTarget()}},t.prototype.canBreak=function(){return"source"===this.list.type},t.prototype.breakHeart=function(t,n,l,e,i,s){void 0===s&&(s=!0),""===n?""===e?(this.list.lines[this.list.selected].extraBefore=t+l+i,this.list.lines[this.list.selected].source="",s&&(this.items._results[this.list.selected].nativeElement.children[1].children[1].value="")):(this.list.lines[this.list.selected].extraBefore=t+l,this.list.lines[this.list.selected].source=e,s&&(this.items._results[this.list.selected].nativeElement.children[1].children[1].value=e)):""===e?(this.list.lines[this.list.selected].source=n,s&&(this.items._results[this.list.selected].nativeElement.children[1].children[1].value=n),this.list.lines[this.list.selected].extraAfter=l+i):(this.list.lines[this.list.selected].source=n,s&&(this.items._results[this.list.selected].nativeElement.children[1].children[1].value=n),this.list.lines[this.list.selected].extraAfter=l,this.list.extra.splice(this.list.selected+1,0,{selected:!1,updated:!1,loading:!1}),this.list.lines.splice(this.list.selected+1,0,{extraBefore:"",extraAfter:i,source:e,target:""}))},t.prototype.translateSelected=function(){if(-1!==this.list.selected)if(-2===this.list.selected)for(var t=this.list.lines.length,n=0;n<t;n++)this.list.extra[n].selected&&(""===this.list.lines[n].target?this.translateLine(n):this.updateLine(n,!1));else""===this.list.lines[this.list.selected].target?this.translateLine(this.list.selected):this.updateLine(this.list.selected)},t.prototype.translateLine=function(t){var n=this;""!==this.list.lines[t].source.trim()&&(this.items._results[t].nativeElement.children[2].children[1].value="",this.list.lines[t].target="",this.list.extra[t].loading=!0,this.http.post("/translate",JSON.stringify({data:this.list.lines[t].source})).then(function(l){console.log('translated: "'+n.list.lines[t].source+'" -> "'+l.data+'"'),n.items._results[t].nativeElement.children[2].children[1].value=l.data,n.list.lines[t].target=l.data,n.list.extra[t].loading=!1},function(l){console.log("translate error: ",l),n.list.extra[t].loading=!1}))},t.prototype.updateLine=function(t,n){if(void 0===n&&(n=!0),""!==this.list.lines[t].source.trim()){n&&this.focusNext("source");var l={data:{source:this.list.lines[t].source,target:this.list.lines[t].target}};this.http.post("/update",JSON.stringify(l)).then(function(t){console.log("update: "+t)},function(t){console.log("update error: ",t)})}},t.prototype.canTranslate=function(){return-1!==this.list.selected&&"source"!==this.list.type},t.prototype.sourceIsEmpty=function(){return this.list.selected>=0&&""===this.list.lines[this.list.selected].source.trim()},t.prototype.targetIsEmpty=function(){return this.list.selected>=0&&""===this.list.lines[this.list.selected].target},t.prototype.focus=function(t,n){this.selectLine(t,n)},t.prototype.updateContent=function(t){console.log("update-line",this.list.selected),this.list.lines[this.list.selected][this.list.type]=t.target.value,this.items._results[this.list.selected].nativeElement.children["target"===this.list.type?2:1].children[1].value=t.target.value,this.updateSelection(t),this.list.selected===this.list.lines.length-1&&this.addEmptyLine()},t.prototype.onKeyPress=function(t){if(t.ctrlKey)switch(t.code){case"Enter":switch(this.list.type){case"source":this.updateSelection(t),this.canBreak()&&!this.selectionIsInvalid()?this.breakLine():this.canBreak()&&this.selectionIsInvalid()&&this.focusTarget();break;case"target":this.canTranslate()&&!this.sourceIsEmpty()?this.translateSelected():this.canTranslate()&&this.sourceIsEmpty()&&this.focusSource()}break;case"Space":this.focusNext(this.list.type)}},t.prototype.updateSelection=function(t){"source"===this.list.type&&(console.log("selection:",t.target.selectionStart,":",t.target.selectionEnd),this.list.selection.start=t.target.selectionStart,this.list.selection.end=t.target.selectionEnd,this.list.selection.len=t.target.textLength)},t.prototype.resetSelection=function(){console.log("selection-reset: 0:0"),this.list.selection={selection:{start:0,end:0,len:0}}},t.prototype.focusSource=function(){this.list.selected>=0&&(console.log("focusing-source"),this.list.type="source",this.items._results[this.list.selected].nativeElement.children[1].children[1].focus())},t.prototype.focusTarget=function(){console.log("focusing-target"),this.list.type="target",this.items._results[this.list.selected].nativeElement.children[2].children[1].focus(),this.resetSelection()},t.prototype.focusNext=function(t){this.list.selected+1<this.list.lines.length&&(console.log("focusing-next:",t),this.scrollTo(this.items._results[this.list.selected].nativeElement.offsetTop+this.items._results[this.list.selected].nativeElement.clientHeight+20),this.list.extra[this.list.selected].selected=!1,this.list.selected++,this.list.extra[this.list.selected].selected=!0,this.list.type=t,this.items._results[this.list.selected].nativeElement.children["target"===t?2:1].children[1].focus())},t.prototype.selectAllLines=function(){console.log("selecting-all"),this.list.selected=-2,this.list.type="target",this.resetSelection(),this.selectAll()},t.prototype.deselectAllLines=function(){console.log("deselecting-all"),this.list.selected=-1,this.list.type="",this.resetSelection(),this.deselectAll()},t.prototype.isSelected=function(){return-1!==this.list.selected},t.prototype.selectMultipleLines=function(t){console.log("selecting-line",t),this.list.extra[t].selected=!0,this.list.type="target",this.resetSelection(),this.list.selected=-1===this.list.selected?t:-2},t.prototype.deselectMultipleLines=function(t){if(console.log("deselecting-line",t),this.list.extra[t].selected=!1,this.list.type="target",this.resetSelection(),-2===this.list.selected){for(var n=0,l=this.list.lines.length,e=0;e<l;e++)if(this.list.extra[e].selected&&(this.list.selected=e,2===++n)){this.list.selected=-2;break}}else this.list.selected=-1,this.list.type=""},t.prototype.selectAll=function(){this.list.extra.forEach(function(t){t.selected=!0})},t.prototype.deselectAll=function(){this.list.extra.forEach(function(t){t.selected=!1})},t.prototype.toggleSidebar=function(){this.app.config.sidebar=!this.app.config.sidebar},t.prototype.toggleAdvancedMode=function(){this.app.config.advanced=!this.app.config.advanced},t.prototype.selectionIsInvalid=function(){return 0===this.list.selection.end||this.list.selection.start===this.list.selection.len},t.prototype.saveData=function(){this.http.post("/save",JSON.stringify({data:this.list.lines})).then(function(t){console.log("save: "+t)},function(t){console.log("save error: ",t)})},t.prototype.removeSelected=function(){console.log("removing..."),this.list.selected=-1;for(var t=0;t<this.list.extra.length;t++)this.list.extra[t].selected&&(this.removeLine(t),t--);0===this.list.lines.length&&this.addEmptyLine()},t.prototype.addEmptyLine=function(){this.list.lines.push({extraBefore:"",extraAfter:"",source:"",target:""}),this.list.extra.push({selected:!1,updated:!1,loading:!1})},t.prototype.removeLine=function(t){this.list.lines.splice(t,1),this.list.extra.splice(t,1)},t.prototype.canDelete=function(){return-1!==this.list.selected},t.prototype.exitTranslating=function(){this.http.post("/finish",JSON.stringify({data:this.list.lines})).then(function(t){console.log("error: ",t),window.location.href="/"},function(t){console.log("error: ",t),window.location.href="/"})},t.prototype.scrollTo=function(t){var n=this,l=this.bnb.nativeElement.scrollTop;if(t<l){console.log("scroll up from",l,"to",t);var e=setInterval(function(){var i=(l-t)/2;l-=i>1?i:1,t<l?n.bnb.nativeElement.scrollTop=l:(n.bnb.nativeElement.scrollTop=t,clearInterval(e))},20)}else if(t>l){console.log("scroll down from",l,"to",t);var i=setInterval(function(){var e=(t-l)/2;l+=e>1?e:1,t>l?n.bnb.nativeElement.scrollTop=l:(n.bnb.nativeElement.scrollTop=t,clearInterval(i))},20)}},t.prototype.canAutoBreak=function(){return-1!==this.list.selected},t.prototype.autoBreak=function(){var t=this;console.log("autobreaking..."),this.list.autobreaking=!0;for(var n=0;n<this.list.lines.length;n++)this.list.extra[n].selected&&(this.list.selected=n,this.regExSelected());console.log(this.list.lines),this.list.autobreaking=!1,setTimeout(function(){for(var n=0;n<t.list.lines.length;n++)t.items._results[n].nativeElement.children[1].children[1].value=t.list.lines[n].source,t.items._results[n].nativeElement.children[2].children[1].value=t.list.lines[n].target},500)},t.prototype.regExSelected=function(){var t=this.list.lines[this.list.selected].extraBefore,n=this.list.lines[this.list.selected].extraAfter,l=this.list.lines[this.list.selected].source,e=l.length,i=l.search(/\. [A-Z]|\n/);if(-1!==i)if("."===l[i]){var s=l.slice(0,i),o=l.slice(i,i+2),c=l.slice(i+2,e);console.log('"'+s+'"'),console.log('"'+o+'"'),console.log('"'+c+'"'),this.breakHeart(t,s,o,c,n,!1),this.list.extra[this.list.selected+1].selected=!0}else{var u=l.slice(i+1,e),r=u.search(/[^\s]/);if(-1!==r){var s=l.slice(0,i),o=l.slice(i,i+r+1),c=l.slice(i+r+1,e);console.log('"'+s+'"'),console.log('"'+o+'"'),console.log('"'+c+'"'),this.breakHeart(t,s,o,c,n,!1),this.list.extra[this.list.selected+1].selected=!0}else{var s=l.slice(0,i),o=l.slice(i,e),c="";console.log('"'+s+'"'),console.log('"'+o+'"'),console.log('"'+c+'"'),this.breakHeart(t,s,o,c,n,!1),this.list.extra[this.list.selected+1].selected=!0}}},t.ctorParameters=function(){return[{type:k}]},t}(),w=[".bnb[_ngcontent-%COMP%]{position:relative;background:#fff;overflow-y:auto}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]{transition:all .3s ease-in-out;position:fixed;left:0;top:0;width:100px;height:100%;background:#fff;z-index:1000}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%], .bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;width:20px;height:100%;background:#ccc;cursor:pointer;opacity:.25;transition:all .3s ease-in-out}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:hover{opacity:1}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto 0;height:20px;width:20px}.bnb[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transition:all .3s ease-in-out;min-width:600px;position:relative;width:calc(100% - 120px);height:calc(100% - 20px);left:100px}.bnb[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:24px;height:24px;margin:20px;border-radius:2px;opacity:0;border:1px solid #ddd}.bnb[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;margin:0}.bnb[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{opacity:0}.bnb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#eee}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%], .bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .sm[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .lines[_ngcontent-%COMP%]{margin:0 20px 20px 20px}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{opacity:1}.bnb[_ngcontent-%COMP%]   .sm[_ngcontent-%COMP%]{display:none;width:35px;height:35px;border-radius:5px;margin:5px auto}.bnb[_ngcontent-%COMP%]   .sm[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 5px 0 rgba(0,0,0,.25)}.bnb[_ngcontent-%COMP%]   .sm[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin:auto}.bnb[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden}.full_mode[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]{-webkit-transform:translateX(-80px);transform:translateX(-80px)}.full_mode[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:calc(100% - 30px);left:10px}.full_mode[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:0}.full_mode[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%], .full_mode[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .sm[_ngcontent-%COMP%]{display:none}.full_mode[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .lines[_ngcontent-%COMP%]{margin:0 20px 20px 10px}.icon[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:58px;height:58px;border-radius:5px;border:1px solid #eee;margin:10px;background:#fff}.icon[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 15px 0 rgba(0,0,0,.25)}.icon[_ngcontent-%COMP%]:active{background:#eee}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:48px;height:48px;margin:5px}.lines[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.5;margin:0 20px 20px 10px}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:50px;margin:0 10px 10px 20px}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{overflow:hidden;resize:none;position:absolute;width:100%;height:100%;top:0;left:0;padding:10px;font-size:16px;line-height:150%;outline:none;border:1px solid #bbb}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{visibility:hidden;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%;padding:10px;font-size:16px;line-height:150%;white-space:pre-wrap;word-wrap:break-word;border:1px solid transparent}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:absolute;top:10px;left:0;width:100%;height:calc(100% - 10px);display:-webkit-box;display:-ms-flexbox;display:flex}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:50px;height:50px}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{opacity:.25;width:40px;height:40px;top:5px;left:5px}.box[_ngcontent-%COMP%]{display:none;top:25px;width:25px;height:25px}.box[_ngcontent-%COMP%], .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;border:1px solid #ddd;display:-webkit-box;display:-ms-flexbox;display:flex;margin:auto 0;cursor:pointer;border-radius:2px}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .box_deselected[_ngcontent-%COMP%]{z-index:2;display:none}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .box_selected[_ngcontent-%COMP%]{z-index:1;display:none}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:24px;height:24px;transition:all .15s ease-in}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 8px 0 rgba(0,0,0,.25)}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover   .box_deselected[_ngcontent-%COMP%]{display:block}.selected[_ngcontent-%COMP%]{opacity:1}.selected[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #000}.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .box_deselected[_ngcontent-%COMP%]{display:block}.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover   .box_deselected[_ngcontent-%COMP%]{display:none}.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover   .box_selected[_ngcontent-%COMP%]{display:block}"],S=l("qbdv"),I=[w],L=O._5({encapsulation:0,styles:I,data:{}}),T=O._3("bnb-app",E,v,{},{},[]),N=l("fc+i"),A=l("bm2B"),B=O._4(P,[E],function(t){return O._18([O._19(512,O.i,O._0,[[8,[T]],[3,O.i],O.x]),O._19(5120,O.v,O._17,[[3,O.v]]),O._19(4608,S.f,S.e,[O.v]),O._19(4608,O.h,O.h,[]),O._19(5120,O.t,O._14,[]),O._19(5120,O.u,O._15,[]),O._19(4608,N.b,N.t,[S.b]),O._19(6144,O.J,null,[N.b]),O._19(4608,N.e,N.f,[]),O._19(5120,N.c,function(t,n,l,e){return[new N.k(t),new N.o(n),new N.n(l,e)]},[S.b,S.b,S.b,N.e]),O._19(4608,N.d,N.d,[N.c,O.z]),O._19(135680,N.m,N.m,[S.b]),O._19(4608,N.l,N.l,[N.d,N.m]),O._19(6144,O.H,null,[N.l]),O._19(6144,N.p,null,[N.m]),O._19(4608,O.O,O.O,[O.z]),O._19(4608,N.g,N.g,[S.b]),O._19(4608,N.i,N.i,[S.b]),O._19(4608,A.c,A.c,[]),O._19(4608,y.i,y.n,[S.b,O.C,y.l]),O._19(4608,y.o,y.o,[y.i,y.m]),O._19(5120,y.a,function(t){return[t]},[y.o]),O._19(4608,y.k,y.k,[]),O._19(6144,y.j,null,[y.k]),O._19(4608,y.h,y.h,[y.j]),O._19(6144,y.b,null,[y.h]),O._19(5120,y.f,y.p,[y.b,[2,y.a]]),O._19(4608,y.c,y.c,[y.f]),O._19(4608,k,k,[y.c]),O._19(512,S.a,S.a,[]),O._19(1024,O.l,N.r,[]),O._19(256,O.a,"bnb",[]),O._19(2048,N.q,null,[O.a]),O._19(1024,O.b,function(t,n,l,e,i){return[N.s(t,n),N.u(l,e,i)]},[[2,N.h],[2,O.y],N.q,S.b,O.r]),O._19(512,O.c,O.c,[[2,O.b]]),O._19(131584,O._7,O._7,[O.z,O._1,O.r,O.l,O.i,O.c]),O._19(2048,O.e,null,[O._7]),O._19(512,O.d,O.d,[O.e]),O._19(512,N.a,N.a,[[3,N.a]]),O._19(512,A.b,A.b,[]),O._19(512,A.a,A.a,[]),O._19(512,y.e,y.e,[]),O._19(512,y.d,y.d,[]),O._19(512,P,P,[]),O._19(256,y.l,"XSRF-TOKEN",[]),O._19(256,y.m,"X-XSRF-TOKEN",[])])});C.production&&Object(O.U)(),Object(N.j)().bootstrapModuleFactory(B).catch(function(t){return console.log(t)})},gFIY:function(t,n){function l(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}l.keys=function(){return[]},l.resolve=l,t.exports=l,l.id="gFIY"}},[0]);
