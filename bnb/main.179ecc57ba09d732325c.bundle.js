webpackJsonp([1],{0:function(t,n,l){t.exports=l("cDNt")},cDNt:function(t,n,l){"use strict";function e(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","REMOVE LINE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.removeSelected()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("delete.svg"),""))})}function i(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","Nothing to remove..."]],[[8,"src",4]],null,null,null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("delete_disabled.svg"),""))})}function s(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","BREAK! (Ctrl + Enter)"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.breakLine()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("heart.svg"),""))})}function o(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","There is nothing to break, to focus target language press Ctrl + Enter"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.focusTarget()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("heart_disabled.svg"),""))})}function c(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[],[[8,"title",0],[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.translateSelected()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.targetIsEmpty()?"TRANSLATE":"UPDATE","  (Ctrl + Enter)"),m._10(1,"",l.targetIsEmpty()?l.imgSrc("translate.svg"):l.imgSrc("translate_red.svg"),""))})}function u(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","There is nothing to translate, to focus source language press Ctrl + Enter"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.focusSource()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("translate_disabled.svg"),""))})}function r(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","HIDE"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("left.svg"),""))})}function a(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","SHOW"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("right.svg"),""))})}function d(t){return m._24(0,[(t()(),m._8(0,0,null,null,61,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t"])),(t()(),m._8(2,0,null,null,49,"div",[["class","config"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._8(5,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._8(7,0,null,null,0,"img",[["title","ADVANCED MODE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.toggleAdvancedMode()&&e}return e},null,null)),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._8(11,0,null,null,7,"div",[["class","icon remove"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,e)),m._6(14,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,i)),m._6(17,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._8(20,0,null,null,0,"div",[["class","flex"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._8(23,0,null,null,13,"div",[["class","icon"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,s)),m._6(26,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,o)),m._6(29,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,c)),m._6(32,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,u)),m._6(35,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._8(38,0,null,null,0,"div",[["class","flex"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._8(41,0,null,null,3,"div",[["class","icon"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._8(43,0,null,null,0,"img",[["title","SAVE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.saveData()&&e}return e},null,null)),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._8(47,0,null,null,3,"div",[["class","icon"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._8(49,0,null,null,0,"img",[["title","EXIT"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.exitTranslating()&&e}return e},null,null)),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t"])),(t()(),m._8(53,0,null,null,7,"div",[["class","toggle"]],null,[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.toggleSidebar()&&e}return e},null,null)),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,r)),m._6(56,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,a)),m._6(59,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t"])),(t()(),m._23(-1,null,["\n\n\t"]))],function(t,n){var l=n.component;t(n,14,0,l.canDelete()),t(n,17,0,!l.canDelete()),t(n,26,0,l.canBreak()&&!l.selectionIsInvalid()),t(n,29,0,l.canBreak()&&l.selectionIsInvalid()),t(n,32,0,l.canTranslate()&&!l.sourceIsEmpty()),t(n,35,0,l.canTranslate()&&l.sourceIsEmpty()),t(n,56,0,l.app.config.sidebar),t(n,59,0,!l.app.config.sidebar)},function(t,n){var l=n.component;t(n,0,0,m._10(1,"config-fixed ",l.app.config.advanced?"advanced":"","")),t(n,5,0,m._10(1,"icon ",l.app.config.advanced?"active":"","")),t(n,7,0,m._10(1,"",l.imgSrc("settings.svg"),"")),t(n,43,0,m._10(1,"",l.imgSrc("save.svg"),"")),t(n,49,0,m._10(1,"",l.imgSrc("exit.svg"),""))})}function _(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","SELECT ALL"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.selectAllLines()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("select.svg"),""))})}function p(t){return m._24(0,[(t()(),m._8(0,0,null,null,0,"img",[["title","DESELECT ALL"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.deselectAllLines()&&e}return e},null,null))],null,function(t,n){var l=n.component;t(n,0,0,m._10(1,"",l.imgSrc("deselect.svg"),""))})}function g(t){return m._24(0,[(t()(),m._8(0,0,null,null,4,"div",[["class","loading"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t\t"])),(t()(),m._8(2,0,null,null,1,"div",[["class","loader"]],null,null,null,null,null)),(t()(),m._8(3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t"]))],null,null)}function h(t){return m._24(0,[(t()(),m._8(0,0,[[1,0],["item",1]],null,38,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._8(2,0,null,null,12,"div",[],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._8(5,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t\t"])),(t()(),m._8(7,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t\t\t"])),(t()(),m._8(9,0,null,null,0,"img",[["class","box_deselected"],["title","SELECT LINE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.selectMultipleLines(t.context.index)&&e}return e},null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t\t\t"])),(t()(),m._8(11,0,null,null,0,"img",[["class","box_selected"],["title","DESELECT LINE"]],[[8,"src",4]],[[null,"click"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.deselectMultipleLines(t.context.index)&&e}return e},null,null)),(t()(),m._23(-1,null,["\n\t\t\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._8(17,0,null,null,7,"div",[["class","lang-from"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t\t\t"])),(t()(),m._8(19,0,null,null,1,"label",[["class","placeholder"]],[[8,"htmlFor",0]],null,null,null,null)),(t()(),m._23(20,null,["",""])),(t()(),m._23(-1,null,["\n\n\t\t\t\t"])),(t()(),m._8(22,0,null,null,1,"textarea",[],[[8,"id",0]],[[null,"click"],[null,"keydown"],[null,"keyup"],[null,"keypress"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.select(l,t.context.index,"source")&&e}if("keydown"===n){e=!1!==i.focus(t.context.index,"source")&&e}if("keyup"===n){e=!1!==i.updateContent(l)&&e}if("keypress"===n){e=!1!==i.onKeyPress(l)&&e}return e},null,null)),(t()(),m._23(23,null,["",""])),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._8(27,0,null,null,10,"div",[["class","lang-to"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t\t\t"])),(t()(),m._8(29,0,null,null,1,"label",[["class","placeholder"]],[[8,"htmlFor",0]],null,null,null,null)),(t()(),m._23(30,null,["",""])),(t()(),m._23(-1,null,["\n\n\t\t\t\t"])),(t()(),m._8(32,0,null,null,1,"textarea",[],[[8,"id",0]],[[null,"click"],[null,"keydown"],[null,"keyup"],[null,"keypress"]],function(t,n,l){var e=!0,i=t.component;if("click"===n){e=!1!==i.select(l,t.context.index,"target")&&e}if("keydown"===n){e=!1!==i.focus(t.context.index,"target")&&e}if("keyup"===n){e=!1!==i.updateContent(l)&&e}if("keypress"===n){e=!1!==i.onKeyPress(l)&&e}return e},null,null)),(t()(),m._23(33,null,["",""])),(t()(),m._23(-1,null,["\n\n\t\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,g)),m._6(36,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\n\t\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t"]))],function(t,n){t(n,36,0,n.component.list.extra[n.context.index].loading)},function(t,n){var l=n.component;t(n,0,0,m._10(1,"lines ",l.isSelectedLine(n.context.index)?"selected":"","")),t(n,9,0,m._10(1,"",l.imgSrc("check.svg"),"")),t(n,11,0,m._10(1,"",l.imgSrc("close.svg"),"")),t(n,19,0,m._10(1,"source-line-",n.context.index,"")),t(n,20,0,n.context.$implicit.source),t(n,22,0,m._10(1,"source-line-",n.context.index,"")),t(n,23,0,n.context.$implicit.source),t(n,29,0,m._10(1,"target-line-",n.context.index,"")),t(n,30,0,n.context.$implicit.target),t(n,32,0,m._10(1,"target-line-",n.context.index,"")),t(n,33,0,n.context.$implicit.target)})}function f(t){return m._24(0,[(t()(),m._8(0,0,null,null,17,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t\t"])),(t()(),m._23(-1,null,["\n\t\t"])),(t()(),m._8(3,0,null,null,7,"div",[["class","icon sm"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,_)),m._6(6,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t\t"])),(t()(),m._2(16777216,null,null,1,null,p)),m._6(9,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\t\t"])),(t()(),m._23(-1,null,["\n\n\t\t"])),(t()(),m._23(-1,null,["\n\t\t"])),(t()(),m._2(16777216,null,null,1,null,h)),m._6(14,802816,null,0,w.c,[m.Q,m.N,m.t],{ngForOf:[0,"ngForOf"]},null),(t()(),m._23(-1,null,["\n\n\t\t"])),(t()(),m._8(16,0,null,null,0,"div",[["style","height: 50px; width: 100%;"]],null,null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t"]))],function(t,n){var l=n.component;t(n,6,0,!l.isSelected()),t(n,9,0,l.isSelected()),t(n,14,0,l.list.lines)},function(t,n){var l=n.component;t(n,0,0,m._10(1,"content ",l.app.config.advanced?"advanced":"",""))})}function x(t){return m._24(0,[m._21(671088640,1,{items:1}),m._21(402653184,2,{bnb:0}),(t()(),m._8(2,0,[[2,0],["bnb",1]],null,7,"div",[],[[8,"className",0],[4,"width","px"],[4,"height","px"]],null,null,null,null)),(t()(),m._23(-1,null,["\n\n\t"])),(t()(),m._2(16777216,null,null,1,null,d)),m._6(5,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\n\t"])),(t()(),m._2(16777216,null,null,1,null,f)),m._6(8,16384,null,0,w.d,[m.Q,m.N],{ngIf:[0,"ngIf"]},null),(t()(),m._23(-1,null,["\n\n"])),(t()(),m._23(-1,null,["\n"]))],function(t,n){var l=n.component;t(n,5,0,!l.app.loading),t(n,8,0,!l.app.loading)},function(t,n){var l=n.component;t(n,2,0,m._10(1,"bnb ",l.app.config.sidebar?"":"full_mode",""),l.app.browser.w,l.app.browser.h)})}function b(t){return m._24(0,[(t()(),m._8(0,0,null,null,1,"bnb-app",[],null,[["window","resize"]],function(t,n,l){var e=!0;if("window:resize"===n){e=!1!==m._20(t,1).handleResize()&&e}return e},x,S)),m._6(1,114688,null,0,y,[M],null,null)],function(t,n){t(n,1,0)},null)}Object.defineProperty(n,"__esModule",{value:!0});var m=l("/oeL"),v={production:!0},O=function(){function t(){}return t}(),C=(l("GQSG"),l("U6yM")),P=l("XKz0"),M=function(){function t(t){this.http=t}return t.prototype.get=function(t){return this.http.get(t).map(function(t){return t||{}})},t.prototype.post=function(t,n){var l=this;return new Promise(function(e,i){l.http.post(t,n,{headers:(new P.g).set("Authorization","XSRF-TOKEN")}).map(function(t){return t||{}}).catch(function(t){return i(t.statusText||"Can't join the server."),C.a.throw(t)}).subscribe(function(t){e(t)})})},t.ctorParameters=function(){return[{type:P.c}]},t}(),y=function(){function t(t){this.http=t,this.app={browser:{w:0,h:0},config:{sidebar:!0,advanced:!1},loading:!0},this.list={selected:-1,lines:[],extra:[],type:"target",selection:{start:0,end:0,len:0}}}return t.prototype.handleResize=function(){this.app.browser.w=this.bnb.nativeElement.offsetParent.clientWidth,this.app.browser.h=this.bnb.nativeElement.offsetParent.clientHeight},t.prototype.ngOnInit=function(){var t=this;this.http.get("/load").subscribe(function(n){""===n.data?t.list.lines.push({extraBefore:"",extraAfter:"",source:"",target:""}):t.list.lines=n.data,t.list.lines.forEach(function(){t.list.extra.push({selected:!1,updated:!1,loading:!1})}),t.app.loading=!1,setTimeout(function(){t.list.lines.length>0?(t.selectLine(0,"source"),t.items._results[t.list.selected].nativeElement.children[1].children[1].focus()):(t.addEmptyLine(),t.selectLine(0,"source"),t.items._results[t.list.selected].nativeElement.children[1].children[1].focus())},500)}),this.app.browser.w=this.bnb.nativeElement.offsetParent.clientWidth,this.app.browser.h=this.bnb.nativeElement.offsetParent.clientHeight},t.prototype.imgSrc=function(t){return"assets/img/"+t},t.prototype.select=function(t,n,l){this.selectLine(n,l),this.updateSelection(t),this.list.selected===this.list.lines.length-1&&this.addEmptyLine()},t.prototype.isSelectedLine=function(t){return this.list.extra[t].selected},t.prototype.selectLine=function(t,n){void 0===n&&(n=""),this.deselectAll(),this.list.selected!==t&&this.scrollTo(this.items._results[t].nativeElement.offsetTop),this.list.selected=t,this.list.extra[this.list.selected].selected=!0,this.list.type=""!==n?n:this.list.type},t.prototype.breakLine=function(){if("source"===this.list.type&&0!==this.list.selection.end&&this.list.selection.start!==this.list.selection.len){var t=this.list.lines[this.list.selected].source,n=this.list.lines[this.list.selected].extraBefore,l=t.slice(0,this.list.selection.start),e=t.slice(this.list.selection.start,this.list.selection.end),i=t.slice(this.list.selection.end,this.list.selection.len),s=this.list.lines[this.list.selected].extraAfter;this.breakHeart(n,l,e,i,s),this.focusTarget()}},t.prototype.canBreak=function(){return"source"===this.list.type},t.prototype.breakHeart=function(t,n,l,e,i){""===n?""===e?(this.list.lines[this.list.selected].extraBefore=t+l+i,this.list.lines[this.list.selected].source="",this.items._results[this.list.selected].nativeElement.children[1].children[1].value=""):(this.list.lines[this.list.selected].extraBefore=t+l,this.list.lines[this.list.selected].source=e,this.items._results[this.list.selected].nativeElement.children[1].children[1].value=e):""===e?(this.list.lines[this.list.selected].source=n,this.items._results[this.list.selected].nativeElement.children[1].children[1].value=n,this.list.lines[this.list.selected].extraAfter=l+i):(this.list.lines[this.list.selected].source=n,this.items._results[this.list.selected].nativeElement.children[1].children[1].value=n,this.list.lines[this.list.selected].extraAfter=l,this.list.extra.splice(this.list.selected+1,0,{selected:!1,updated:!1,loading:!1}),this.list.lines.splice(this.list.selected+1,0,{extraBefore:"",extraAfter:i,source:e,target:""}))},t.prototype.translateSelected=function(){if(-1!==this.list.selected)if(-2===this.list.selected)for(var t=this.list.lines.length,n=0;n<t;n++)this.list.extra[n].selected&&(""===this.list.lines[n].target?this.translateLine(n):this.updateLine(n,!1));else""===this.list.lines[this.list.selected].target?this.translateLine(this.list.selected):this.updateLine(this.list.selected)},t.prototype.translateLine=function(t){var n=this;""!==this.list.lines[t].source.trim()&&(this.items._results[t].nativeElement.children[2].children[1].value="",this.list.lines[t].target="",this.list.extra[t].loading=!0,this.http.post("/translate",JSON.stringify({data:this.list.lines[t].source})).then(function(l){n.items._results[t].nativeElement.children[2].children[1].value=l.data,n.list.lines[t].target=l.data,n.list.extra[t].loading=!1},function(l){console.log("translate error: ",l),n.list.extra[t].loading=!1}))},t.prototype.updateLine=function(t,n){if(void 0===n&&(n=!0),""!==this.list.lines[t].source.trim()){n&&this.focusNext("source");var l={data:{source:this.list.lines[t].source,target:this.list.lines[t].target}};this.http.post("/update",JSON.stringify(l)).then(function(t){console.log("update: "+t)},function(t){console.log("update error: ",t)})}},t.prototype.canTranslate=function(){return-1!==this.list.selected&&"source"!==this.list.type},t.prototype.sourceIsEmpty=function(){return this.list.selected>=0&&""===this.list.lines[this.list.selected].source.trim()},t.prototype.targetIsEmpty=function(){return this.list.selected>=0&&""===this.list.lines[this.list.selected].target},t.prototype.focus=function(t,n){this.selectLine(t,n)},t.prototype.updateContent=function(t){this.list.lines[this.list.selected][this.list.type]=t.target.value,this.items._results[this.list.selected].nativeElement.children["target"===this.list.type?2:1].children[1].value=t.target.value,this.updateSelection(t),this.list.selected===this.list.lines.length-1&&this.addEmptyLine()},t.prototype.onKeyPress=function(t){if(t.ctrlKey)switch(t.code){case"Enter":switch(this.list.type){case"source":this.updateSelection(t),this.canBreak()&&!this.selectionIsInvalid()?this.breakLine():this.canBreak()&&this.selectionIsInvalid()&&this.focusTarget();break;case"target":this.canTranslate()&&!this.sourceIsEmpty()?this.translateSelected():this.canTranslate()&&this.sourceIsEmpty()&&this.focusSource()}break;case"Space":this.focusNext(this.list.type)}},t.prototype.updateSelection=function(t){"source"===this.list.type&&(this.list.selection.start=t.target.selectionStart,this.list.selection.end=t.target.selectionEnd,this.list.selection.len=t.target.textLength)},t.prototype.resetSelection=function(){this.list.selection={selection:{start:0,end:0,len:0}}},t.prototype.focusSource=function(){this.list.selected>=0&&(this.list.type="source",this.items._results[this.list.selected].nativeElement.children[1].children[1].focus())},t.prototype.focusTarget=function(){this.list.type="target",this.items._results[this.list.selected].nativeElement.children[2].children[1].focus(),this.resetSelection()},t.prototype.focusNext=function(t){this.list.selected+1<this.list.lines.length&&(this.scrollTo(this.items._results[this.list.selected].nativeElement.offsetTop+this.items._results[this.list.selected].nativeElement.clientHeight+20),this.list.extra[this.list.selected].selected=!1,this.list.selected++,this.list.type=t,this.list.extra[this.list.selected].selected=!0,this.items._results[this.list.selected].nativeElement.children["target"===t?2:1].children[1].focus())},t.prototype.selectAllLines=function(){this.list.selected=-2,this.list.type="target",this.resetSelection(),this.selectAll()},t.prototype.deselectAllLines=function(){this.list.selected=-1,this.list.type="",this.resetSelection(),this.deselectAll()},t.prototype.isSelected=function(){return-1!==this.list.selected},t.prototype.selectMultipleLines=function(t){this.list.extra[t].selected=!0,this.list.type="target",this.resetSelection(),this.list.selected=-1===this.list.selected?t:-2},t.prototype.deselectMultipleLines=function(t){if(this.list.extra[t].selected=!1,this.list.type="target",this.resetSelection(),-2===this.list.selected){for(var n=0,l=this.list.lines.length,e=0;e<l;e++)if(this.list.extra[e].selected&&(this.list.selected=e,2===++n)){this.list.selected=-2;break}}else this.list.selected=-1,this.list.type=""},t.prototype.selectAll=function(){this.list.extra.forEach(function(t){t.selected=!0})},t.prototype.deselectAll=function(){this.list.extra.forEach(function(t){t.selected=!1})},t.prototype.toggleSidebar=function(){this.app.config.sidebar=!this.app.config.sidebar},t.prototype.toggleAdvancedMode=function(){this.app.config.advanced=!this.app.config.advanced},t.prototype.selectionIsInvalid=function(){return 0===this.list.selection.end||this.list.selection.start===this.list.selection.len},t.prototype.saveData=function(){this.http.post("/save",JSON.stringify({data:this.list.lines})).then(function(t){console.log("save: "+t)},function(t){console.log("save error: ",t)})},t.prototype.removeSelected=function(){this.list.selected=-1;for(var t=0;t<this.list.extra.length;t++)this.list.extra[t].selected&&(this.removeLine(t),t--);0===this.list.lines.length&&this.addEmptyLine()},t.prototype.addEmptyLine=function(){this.list.lines.push({extraBefore:"",extraAfter:"",source:"",target:""}),this.list.extra.push({selected:!1,updated:!1,loading:!1})},t.prototype.removeLine=function(t){this.list.lines.splice(t,1),this.list.extra.splice(t,1)},t.prototype.canDelete=function(){return-1!==this.list.selected},t.prototype.exitTranslating=function(){this.http.post("/finish",JSON.stringify({data:this.list.lines})).then(function(t){window.location.href="/"},function(t){window.location.href="/"})},t.prototype.scrollTo=function(t){var n=this,l=this.bnb.nativeElement.scrollTop;if(t<l)var e=setInterval(function(){var i=(l-t)/2;l-=i>1?i:1,t<l?n.bnb.nativeElement.scrollTop=l:(n.bnb.nativeElement.scrollTop=t,clearInterval(e))},20);else if(t>l)var i=setInterval(function(){var e=(t-l)/2;l+=e>1?e:1,t>l?n.bnb.nativeElement.scrollTop=l:(n.bnb.nativeElement.scrollTop=t,clearInterval(i))},20)},t.ctorParameters=function(){return[{type:M}]},t}(),k=[".bnb[_ngcontent-%COMP%]{position:relative;background:#fff;overflow-y:auto}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]{transition:all .3s ease-in-out;position:fixed;left:0;top:0;width:100px;height:100%;background:#fff;z-index:1000}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%], .bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;width:20px;height:100%;background:#ccc;cursor:pointer;opacity:.25;transition:all .3s ease-in-out}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:hover{opacity:1}.bnb[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto 0;height:20px;width:20px}.bnb[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transition:all .3s ease-in-out;min-width:600px;position:relative;width:calc(100% - 120px);height:calc(100% - 20px);left:100px}.bnb[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:24px;height:24px;margin:20px;border-radius:2px;opacity:0;border:1px solid #ddd}.bnb[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;margin:0}.bnb[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{opacity:0}.bnb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#eee}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .lines[_ngcontent-%COMP%]{margin:0 20px 20px 20px}.bnb[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{opacity:1}.full_mode[_ngcontent-%COMP%]   .config-fixed[_ngcontent-%COMP%]{-webkit-transform:translateX(-80px);transform:translateX(-80px)}.full_mode[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:calc(100% - 30px);left:10px}.full_mode[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:0}.full_mode[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:none}.full_mode[_ngcontent-%COMP%]   .advanced[_ngcontent-%COMP%]   .lines[_ngcontent-%COMP%]{margin:0 20px 20px 10px}.icon[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:58px;height:58px;border-radius:5px;border:1px solid #eee;margin:10px;background:#fff}.icon[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 15px 0 rgba(0,0,0,.25)}.icon[_ngcontent-%COMP%]:active{background:#eee}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:48px;height:48px;margin:5px}.lines[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.5;margin:0 20px 20px 10px}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:50px;margin:0 10px 10px 20px}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{overflow:hidden;resize:none;position:absolute;width:100%;height:100%;top:0;left:0;padding:10px;font-size:16px;line-height:150%;outline:none;border:1px solid #bbb}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{visibility:hidden;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%;padding:10px;font-size:16px;line-height:150%;white-space:pre-wrap;word-wrap:break-word;border:1px solid transparent}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:absolute;top:10px;left:0;width:100%;height:calc(100% - 10px);display:-webkit-box;display:-ms-flexbox;display:flex}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:50px;height:50px}.lines[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{opacity:.25;width:40px;height:40px;top:5px;left:5px}.box[_ngcontent-%COMP%]{display:none;top:25px;width:25px;height:25px}.box[_ngcontent-%COMP%], .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;border:1px solid #ddd;display:-webkit-box;display:-ms-flexbox;display:flex;margin:auto 0;cursor:pointer;border-radius:2px}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .box_deselected[_ngcontent-%COMP%]{z-index:2;display:none}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .box_selected[_ngcontent-%COMP%]{z-index:1;display:none}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:24px;height:24px;transition:all .15s ease-in}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 8px 0 rgba(0,0,0,.25)}.box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover   .box_deselected[_ngcontent-%COMP%]{display:block}.selected[_ngcontent-%COMP%]{opacity:1}.selected[_ngcontent-%COMP%]   .lang-from[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .lang-to[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #000}.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .box_deselected[_ngcontent-%COMP%]{display:block}.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover   .box_deselected[_ngcontent-%COMP%]{display:none}.selected[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover   .box_selected[_ngcontent-%COMP%]{display:block}"],w=l("qbdv"),E=[k],S=m._5({encapsulation:0,styles:E,data:{}}),I=m._3("bnb-app",y,b,{},{},[]),L=l("fc+i"),N=l("bm2B"),T=m._4(O,[y],function(t){return m._18([m._19(512,m.i,m._0,[[8,[I]],[3,m.i],m.x]),m._19(5120,m.v,m._17,[[3,m.v]]),m._19(4608,w.f,w.e,[m.v]),m._19(4608,m.h,m.h,[]),m._19(5120,m.t,m._14,[]),m._19(5120,m.u,m._15,[]),m._19(4608,L.b,L.t,[w.b]),m._19(6144,m.J,null,[L.b]),m._19(4608,L.e,L.f,[]),m._19(5120,L.c,function(t,n,l,e){return[new L.k(t),new L.o(n),new L.n(l,e)]},[w.b,w.b,w.b,L.e]),m._19(4608,L.d,L.d,[L.c,m.z]),m._19(135680,L.m,L.m,[w.b]),m._19(4608,L.l,L.l,[L.d,L.m]),m._19(6144,m.H,null,[L.l]),m._19(6144,L.p,null,[L.m]),m._19(4608,m.O,m.O,[m.z]),m._19(4608,L.g,L.g,[w.b]),m._19(4608,L.i,L.i,[w.b]),m._19(4608,N.c,N.c,[]),m._19(4608,P.i,P.n,[w.b,m.C,P.l]),m._19(4608,P.o,P.o,[P.i,P.m]),m._19(5120,P.a,function(t){return[t]},[P.o]),m._19(4608,P.k,P.k,[]),m._19(6144,P.j,null,[P.k]),m._19(4608,P.h,P.h,[P.j]),m._19(6144,P.b,null,[P.h]),m._19(5120,P.f,P.p,[P.b,[2,P.a]]),m._19(4608,P.c,P.c,[P.f]),m._19(4608,M,M,[P.c]),m._19(512,w.a,w.a,[]),m._19(1024,m.l,L.r,[]),m._19(256,m.a,"bnb",[]),m._19(2048,L.q,null,[m.a]),m._19(1024,m.b,function(t,n,l,e,i){return[L.s(t,n),L.u(l,e,i)]},[[2,L.h],[2,m.y],L.q,w.b,m.r]),m._19(512,m.c,m.c,[[2,m.b]]),m._19(131584,m._7,m._7,[m.z,m._1,m.r,m.l,m.i,m.c]),m._19(2048,m.e,null,[m._7]),m._19(512,m.d,m.d,[m.e]),m._19(512,L.a,L.a,[[3,L.a]]),m._19(512,N.b,N.b,[]),m._19(512,N.a,N.a,[]),m._19(512,P.e,P.e,[]),m._19(512,P.d,P.d,[]),m._19(512,O,O,[]),m._19(256,P.l,"XSRF-TOKEN",[]),m._19(256,P.m,"X-XSRF-TOKEN",[])])});v.production&&Object(m.U)(),Object(L.j)().bootstrapModuleFactory(T).catch(function(t){return console.log(t)})},gFIY:function(t,n){function l(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}l.keys=function(){return[]},l.resolve=l,t.exports=l,l.id="gFIY"}},[0]);